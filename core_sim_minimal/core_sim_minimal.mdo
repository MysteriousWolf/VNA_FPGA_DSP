if {![file exists "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/core_sim_minimal/core_sim_minimal.mpf"]} { 
	project new "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/core_sim_minimal" core_sim_minimal
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/core.v" verilog
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/spi.v" verilog
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/raw_meas_ram/rtl/raw_meas_ram.v" verilog
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/adc_counter/rtl/adc_counter.v" verilog
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/spi_counter/rtl/spi_counter.v" verilog
	project addfile "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/impl_1/VNA_FPGA_DSP_minimal_tf.v" verilog
	vlib  work
	vdel -lib work -all 
	vlib work

	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/core.v" -suppress 2388
	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/spi.v" -suppress 2388
	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/raw_meas_ram/rtl" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/raw_meas_ram/rtl/raw_meas_ram.v" -suppress 2388
	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/adc_counter/rtl" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/adc_counter/rtl/adc_counter.v" -suppress 2388
	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/spi_counter/rtl" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/spi_counter/rtl/spi_counter.v" -suppress 2388
	vlog  "+incdir+C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/impl_1" -work work  "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/source/impl_1/VNA_FPGA_DSP_minimal_tf.v" -suppress 2388
} else {
	project open "C:/Users/matej/RadiantProjects/VNA_FPGA_DSP/core_sim_minimal/core_sim_minimal"
	project compileoutofdate
}
vsim -L work -L pmi_work -L ovi_ice40up  -suppress vsim-7033,vsim-8630,3009,3389 dsp_core_tf 
view wave
add wave /*
run 100 ns
